function playUrl(a){return $("#u").val(a),$("#play-button").click(),!1}!function(){var a={},b=this,c=("localhost"==b.location.host,!!(b.navigator.userAgent+"").match(/(?:android|iphone|ipod|ipad|ios)/i),swfobject.hasFlashPlayerVersion("10"));(b.navigator.userAgent+"").match(/(?:chrome)/i),a.uploader={uploadFile:function(){return a.uploader.uploader&&a.uploader.uploader.x2_uploader_uploadFile?a.uploader.uploader.x2_uploader_uploadFile():void 0},setStyle:function(b){return a.uploader.uploader&&a.uploader.uploader.x2_uploader_setStyle?a.uploader.uploader.x2_uploader_setStyle(b):void 0},uploadError:function(a,b){$("#u").val(b),alert(6==a?"BT文件上传超时，请稍候重试":5==a?"BT文件大小超过6M，请选择其他BT文件":"BT文件上传失败，请稍候重试")},browser:function(){},uploadSuccess:function(b){if(b=jQuery.parseJSON(b)){var c=b.ret;0==c&&40==b.infohash.length?($("#u").val("magnet:?xt=urn:btih:"+b.infohash),a.checkUrl()):alert(2==c?"请求参数有误，请检查后重新添加":6==c?"该种子文件解析失败，请稍后再试":"BT文件上传失败，请稍候重试")}},uploadProgress:function(a,b){$("#u").val(b+"  正在上传  "+parseInt(100*a,10)+"%")},setFilename:function(a){$("#u").val("开始上传 "+l(a))},init:function(){var d,e,f=$("#upload-button");f.length&&(c?(d=f.outerHeight(),e=f.outerWidth(),$('<div id="uploader"><div id="_uploader"></div></div>').css({position:"absolute",left:0,top:0,width:e,height:d,cursor:"pointer"}).appendTo(f.css({position:"relative"}).off("click")),swfobject.embedSWF("http://vod.xunlei.com/media/fileUploader.swf","_uploader",e,d,"10.0.0","http://vod.xunlei.com/library/expressInstall.swf",{description:"请选择BT种子文件(*.torrent)",extension:"*.torrent",timeOut:10,url:"http://dynamic.vod.lixian.xunlei.com/interface/upload_bt",label:"",limitSize:6442450944,jsPrefix:"x2.uploader.",asPrefix:"x2_uploader_",isImmediately:!0},{wmode:"transparent",allowScriptAccess:"always"},{id:"_uploader",name:"_uploader"},function(c){c.success&&(a.uploader.uploader=(-1!=b.navigator.appName.indexOf("Microsoft")?b:document)._uploader,f.prop("disabled",!1))})):f.hide())}},a.checkUrl=function(){var b,c,d=$.trim($("#u").val());d.match(/^[a-fA-F0-9]{40}$/i)&&(d="magnet:?xt=urn:btih:"+d.toUpperCase())&&$("#u").val(d),b="xlpan://|thunder://|ftp://|http://|https://|ed2k://|mms://|magnet:|rtsp://|flashget://|qqdl://|bt://",c=new RegExp("^("+b+").{9,}","i"),d.match(c)?a.play(d):(alert("您输入的视频下载地址有误。"),$("#u").focus())},a.play=function(a){if($("#url").length>0)return $("#url").val(a),$("#formget").submit(),void 0;var b=$("#win_vod"),c="http://www.zd4230.com/api.html?url="+a;return c==b.attr("src")?(alert("该视频正在播放。"),void 0):(b.attr({src:c}),void 0)},a.fromUrl=function(){var b=new RegExp("(^|&)url=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b),d="",e="";if(null!=c){d=c[2];try{e=decodeURIComponent(decodeURIComponent(d))}catch(f){try{e=decodeURIComponent(d)}catch(f){e=d}}""!=e&&($("#u").val(e),a.checkUrl())}},a.initMessageBox=function(){function a(){c.css({top:$(b).scrollTop(),left:($(b).width()-c.width())/2+$(b).scrollLeft()})}if(!$("#message").length){var c=$('<div id="message"><div id="message-inner">'+_message+"</div></div>").appendTo("body").on("mouseover",function(){$(this).stop().css({opacity:1})});$(b).on({resize:a,scroll:a}),a()}},$(document).ready(function(){$("#play-button").length>0&&($("#shadow").css("height",$(document).height()).hide(),$(".lightSwitcher").click(function(){$("#shadow").is(":hidden")?$(this).html(" 开灯 ").addClass("turnedOff"):$(this).html(" 关灯 ").removeClass("turnedOff"),$("#shadow").fadeToggle()}),$("#u").click(function(){var a=$(this).val();a==this.defaultValue?$(this).val(""):this.select()}),$("#u").blur(function(){var a=$(this).val();""==a&&$(this).val(this.defaultValue)}),$("#play-button").click(function(){a.checkUrl()}),a.uploader.init(),a.initMessageBox(),a.fromUrl())}),b.x2=a}();